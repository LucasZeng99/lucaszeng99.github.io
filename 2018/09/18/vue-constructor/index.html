<!DOCTYPE html>
<html lang="en">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="Vue and jQuery constructors"/>




  <meta name="keywords" content="Vue, javascript, Lucas Zeng" />










  <link rel="alternate" href="/default" title="Lucas Zeng">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.10.1" />



<link rel="canonical" href="https://lucaszeng99.github.io/2018/09/18/vue-constructor/"/>



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />




  <link rel="stylesheet" type="text/css" href="/lib/nprogress/nprogress.min.css" />



<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.10.1" />



  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>








<script>
  window.config = {"title":"Lucas Zeng","subtitle":null,"description":null,"author":"Lucas Zeng","language":"en","timezone":null,"url":"https://lucaszeng99.github.io","root":"/","permalink":":year/:month/:day/:title/","permalink_defaults":null,"source_dir":"source","public_dir":"public","tag_dir":"tags","archive_dir":"archives","category_dir":"categories","code_dir":"downloads/code","i18n_dir":":lang","skip_render":null,"new_post_name":":title.md","default_layout":"post","titlecase":false,"external_link":true,"filename_case":0,"render_drafts":false,"post_asset_folder":false,"relative_link":false,"future":true,"highlight":{"enable":true,"auto_detect":false,"line_number":true,"tab_replace":null,"first_line_number":"always1"},"default_category":"uncategorized","category_map":null,"tag_map":null,"date_format":"YYYY-MM-DD","time_format":"HH:mm:ss","per_page":10,"pagination_dir":"page","theme":"even","deploy":{"type":"git","repo":"https://github.com/LucasZeng99/lucaszeng99.github.io.git"},"ignore":[],"keywords":null,"index_generator":{"per_page":10,"order_by":"-date","path":""},"archive_generator":{"per_page":10,"yearly":true,"monthly":true,"daily":false},"category_generator":{"per_page":10},"tag_generator":{"per_page":10},"marked":{"gfm":true,"pedantic":false,"sanitize":false,"tables":true,"breaks":true,"smartLists":true,"smartypants":true,"modifyAnchors":"","autolink":true},"server":{"port":4000,"log":false,"compress":false,"header":true},"since":2017,"favicon":"/favicon.ico","rss":"default","menu":{"Home":"/","Archives":"/archives/","About":"/about"},"color":"cobalt blue","mode":"default","toc":true,"fancybox":true,"pjax":true,"copyright":{"enable":true,"license":"<a rel=\"license\" href=\"https://creativecommons.org/licenses/by-nc-nd/4.0/\" target=\"_blank\">CC BY-NC-ND 4.0</a>"},"reward":{"enable":false,"qrCode":{"wechat":null,"alipay":null}},"social":{"email":"lucaszeng99@gmail.com","stack-overflow":null,"twitter":null,"facebook":null,"linkedin":"https://www.linkedin.com/in/zichangzeng/","google":null,"github":"https://github.com/LucasZeng99","weibo":null,"zhihu":null,"douban":null,"pocket":null,"tumblr":null,"instagram":null},"leancloud":{"app_id":null,"app_key":null},"baidu_analytics":null,"baidu_verification":null,"google_analytics":null,"google_verification":null,"disqus_shortname":null,"changyan":{"appid":null,"appkey":null},"livere_datauid":null,"version":"2.10.1"};
</script>

    <title> Vue and jQuery constructors - Lucas Zeng </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Lucas Zeng</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Lucas Zeng</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              Archives
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              About
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Vue and jQuery constructors
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-09-18
        </span>
        
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#init-js"><span class="toc-text">init.js</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Notes"><span class="toc-text">Notes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Quick-overview"><span class="toc-text">Quick overview</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-is-this-init-used"><span class="toc-text">How is this._init used?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-is-this-initialization-different-from-Jquery"><span class="toc-text">How is this initialization different from Jquery?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Why-is-this-different-and-important"><span class="toc-text">Why is this different and important?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a></li></ol>
    </div>
  </div>



    <div class="post-content">
      
        <p>Reading the source code of Vue, I want to pause for a while in the beginning - constructor. To compare, jQuery was looked into, too…<br><a id="more"></a></p>
<h2 id="init-js"><a href="#init-js" class="headerlink" title="init.js"></a>init.js</h2><blockquote>
<p>src/core/instance/init.js</p>
</blockquote>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><ol>
<li>initInternalComponent(vm, options) will be looked into later.</li>
<li><code>child.extends</code>, line 381 to 403, how does vue merge the parent options?? to be looked into later.</li>
</ol>
<h3 id="Quick-overview"><a href="#Quick-overview" class="headerlink" title="Quick overview"></a>Quick overview</h3><p>Generally, the _init() function take the user-given options, resolve and regulate them into the Root Vue instance. </p>
<p>normalize: normalize user-given props, inject, and directives.<br>These enable vue to tolerate more style of user-defined options in a component. After _init() and these filters, the option should be an object containing <code>props</code>, <code>inject</code> and <code>directives</code></p>
<hr>
<h2 id="How-is-this-init-used"><a href="#How-is-this-init-used" class="headerlink" title="How is this._init used?"></a>How is this._init used?</h2><blockquote>
<p>src/core/instance/index.js</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Vue</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp;</span><br><span class="line">    !(<span class="keyword">this</span> <span class="keyword">instanceof</span> Vue)</span><br><span class="line">  ) &#123;</span><br><span class="line">    warn(<span class="string">'Vue is a constructor and should be called with the `new` keyword'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>._init(options)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>this function Vue is a constructor. After inspecting the environment, it calls <code>_init(options)</code>, which, although not defined directly on Vue itself, was inherited from Vue.prototype._init() discussed above.</p>
<p>Generaly, Vue._init() binds options to Vue object, and starts all functionalities of Vue.</p>
<h2 id="How-is-this-initialization-different-from-Jquery"><a href="#How-is-this-initialization-different-from-Jquery" class="headerlink" title="How is this initialization different from Jquery?"></a>How is this initialization different from Jquery?</h2><blockquote>
<p>from jQuery.js v3.3.1 line 135<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">jQuery = <span class="function"><span class="keyword">function</span>(<span class="params"> selector, context </span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// The jQuery object is actually just the init constructor 'enhanced'</span></span><br><span class="line">		<span class="comment">// Need init if jQuery is called (just allow error to be thrown if not included)</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> jQuery.fn.init( selector, context );</span><br><span class="line">	&#125;,</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>compared with Vue function, jQuery wrap up the <code>new</code> assignment in itself, and returning an object from the <code>new jQuery.fn.init()</code>.<br><code>jQuery.fn.init()</code> is hence the constructor for <code>$</code>, therefore <code>jQuery</code> or <code>$</code> could be looked as an alias of that constructor. Every time we use <code>$</code>, the constructor searches through the DOM and returns a jQuery object. </p>
<p>In the case where:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">menuButton = $(<span class="string">`#menu-btn`</span>)</span><br></pre></td></tr></table></figure></p>
<p><code>$</code> passes the DOM item found and returned by <code>new jQuery.fn.init()</code> to the end user. (assigns it to <code>menuButton</code>).</p>
<blockquote>
<p>for Vue it’s one layer below.</p>
</blockquote>
<p>I can see that the most foundamental difference is that Vue exposes the constructor to end user, while jQuery executes it inside and allows only the function of querying to users.</p>
<h2 id="Why-is-this-different-and-important"><a href="#Why-is-this-different-and-important" class="headerlink" title="Why is this different and important?"></a>Why is this different and important?</h2><p>I want to come back to this question later. Only one obvious thing I’ve noticed is that when other users are accessing the inner parts and trying to add more features, Vue seems to be clearer in structure. When I log out an instance of Vue, it is <code>funciton Vue</code> itself, not <code>jQuery.fn.init()</code>. But for other benefits and intentions, I have a long way to discover.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>I haven’t really started to read into the detail, but an observation of the file structure and Vue’s way of exposing its global API. Hope this recording lasts.</p>

      
    </div>

    
      
      

  <div class="post-copyright">
    <p class="copyright-item">
      <span>Author: </span>
      <a href="https://lucaszeng99.github.io">Lucas Zeng</a>
    </p>
    <p class="copyright-item">
      <span>Link: </span>
      <a href="https://lucaszeng99.github.io/2018/09/18/vue-constructor/">https://lucaszeng99.github.io/2018/09/18/vue-constructor/</a>
    </p>
    <p class="copyright-item">
      <span>License: </span>
      
      <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a>
    </p>
  </div>



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Vue-javascript/">Vue, javascript</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
    
      <a class="next" href="/2018/09/16/jquery-note-define/">
        <span class="next-text nav-default">Jquery: How 'define' Works</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:lucaszeng99@gmail.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
        
          <a href="https://www.linkedin.com/in/zichangzeng/" class="iconfont icon-linkedin" title="linkedin"></a>
        
      
    
      
    
      
        
          <a href="https://github.com/LucasZeng99" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    
      
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>



<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2017 - 
    
    2018

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Lucas Zeng</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  

  



    
  



  
  





  
    <script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  

  
    <script type="text/javascript" src="/lib/pjax/jquery.pjax.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/nprogress/nprogress.min.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.10.1"></script>

  </body>
</html>
